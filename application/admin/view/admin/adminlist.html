<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>后台管理</title>
    <!-- Tell the browser to be responsive to screen width -->
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    {block name="header"}{include file="layout/header"}{/block}
</head>
<body class="hold-transition skin-blue sidebar-mini">
<div class="wrapper">

    {block name="slider"}{include file="layout/slider" /}{/block}

    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
        <!-- Content Header (Page header) -->
        <section class="content-header">
            <h1>
                管理员
                <small>列表中心</small>
            </h1>
            <ol class="breadcrumb">
            </ol>
        </section>

        <!--主要内容-->
        <section class="content">
            <div class="row">
                <div class="col-md-12">
                    <div class="box">
                        <div class="box-header with-border">
                            <h3 class="box-title"><b>管理员列表</b></h3>
                        </div>
                        <!-- /.box-header -->
                        <div class="box-body">
                            <table class="table table-bordered">
                                <tbody>
                                <tr>
                                    <th style="width: 10px">ID</th>
                                    <th>管理员编号</th>
                                    <th>管理员名字</th>
                                    <th>注册时间</th>
                                    <th style="width: 140px">操作</th>
                                </tr>

                                {volist name="list" id='admin'}
                                <tr>
                                    <td>{$admin.id}</td>
                                    <td>{$admin.aid}</td>
                                    <td>{$admin.name}</td>
                                    <td>{$admin.register_time}</td>
                                    <td>
                                        <a href="#">
                                            <span class="badge bg-green admin-show" data-content="{$admin.aid}">修改</span>
                                        </a>
                                        <a href="/admin/admin/delete?aid={$admin.aid}" onclick="return confirm('确认删除该管理员么?')">
                                            <span class="badge bg-red">删除</span>
                                        </a>
                                    </td>
                                </tr>
                                <!--管理员详细信息弹出框-->
                                <div class="modal fade" id="myModal{$admin.aid}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                                    <div class="modal-dialog modal-lg" role="document">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                                                <h4 class="modal-title" id="myModalLabel">管理员详细信息</h4>
                                            </div>
                                            <form method="post" action="/admin/admin/adminUpdate" name="stu-form">
                                                <div class="modal-body">
                                                    <div class="form-group">
                                                        <label for="txt_departmentname">管理员编号</label>
                                                        <input type="text" name="adminid" readonly='true' class="form-control" id="txt_departmentname" value="{$admin.aid}">
                                                    </div>
                                                    <div class="form-group">
                                                        <label for="txt_parentdepartment">管理员姓名</label>
                                                        <input type="text" name="adminname" class="form-control" id="txt_parentdepartment" value="{$admin.name}">
                                                    </div>
                                                    <div class="form-group">
                                                        <label for="txt_departmentlevel">登录密码</label>
                                                        <input type="text" name="password" class="form-control" id="txt_departmentlevel" value="">
                                                    </div>
                                                    <div class="form-group">
                                                        <label>管理员权限</label>
                                                        <div class="checkbox">
                                                            <label>
                                                                <input type="checkbox" name="auth[]" value="1"> 增加
                                                            </label>
                                                            <label>
                                                                <input type="checkbox" name="auth[]" value="2"> 删除
                                                            </label>
                                                            <label>
                                                                <input type="checkbox" name="auth[]" value="3"> 修改
                                                            </label>
                                                            <label>
                                                                <input type="checkbox" name="auth[]" value="4"> 查看
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-default" data-dismiss="modal"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span>关闭</button>
                                                    <button type="submit" id="btn_submit" class="btn btn-primary"><span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span>保存</button>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                                <!--.管理员详细信息弹出框-->
                                {/volist}

                                </tbody></table>
                        </div>
                        <div class="box-footer clearfix">
                            {$page}
                        </div>
                    </div>
                </div>
                <!-- /.col -->
            </div>
        </section>
        <!-- /主要内容 -->

    </div>
    <!-- /.content-wrapper -->

    {block name="footer"}{include file="layout/footer" /}{/block}

</div>
<!-- ./wrapper -->
{block name="script"}{include file="layout/script" /}{/block}

<script>
    $(".admin-show").click(function () {
        $("#myModalLabel").text("修改管理员信息");
        var id ='#myModal' + $(this).attr('data-content');
        var aid = $(this).attr('data-num');
        var did = $(this).attr('data-toggle');
        $(id).modal();
    });
</script>

</body>
</html>